"use strict";(self.webpackChunkkarabiner_ts_docs=self.webpackChunkkarabiner_ts_docs||[]).push([["7080"],{32238:function(e,n,i){i.r(n),i.d(n,{default:()=>m,frontMatter:()=>r,metadata:()=>o,assets:()=>d,toc:()=>l,contentTitle:()=>t});var o=JSON.parse('{"id":"manipulators/from","title":"from / map*()","description":"map() takes any valid full from event definition.","source":"@site/docs/manipulators/from.md","sourceDirName":"manipulators","slug":"/manipulators/from","permalink":"/manipulators/from","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"from / map*()"},"sidebar":"docs","previous":{"title":"layer().leaderMode()","permalink":"/rules/leader-mode"},"next":{"title":"from / mapDoubleTap()","permalink":"/manipulators/double-tap"}}'),a=i("85893"),s=i("50065");let r={title:"from / map*()"},t="FromEvent and map*()",d={},l=[{value:"map(key)",id:"map-key",level:2},{value:"Key alias",id:"key-alias",level:3},{value:"mapConsumerKey()",id:"map-consumer-key",level:2},{value:"mapPointingButton()",id:"map-pointing-button",level:2},{value:"mapSimultaneous()",id:"map-simultaneous",level:2},{value:"Modifiers",id:"modifiers",level:3},{value:"Threshold",id:"threshold",level:3}];function c(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components},{Details:i}=n;return i||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"fromevent-and-map",children:"FromEvent and map*()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"map()"})," takes any valid full ",(0,a.jsx)(n.a,{href:"https://karabiner-elements.pqrs.org/docs/json/complex-modifications-manipulator-definition/from/",children:"from event definition"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"map({ key_code: 'a', modifiers: { mandatory: ['left_command'] } })\n"})}),"\n",(0,a.jsxs)(i,{children:[(0,a.jsx)("summary",{children:"FromEvent type"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"export type FromEvent = (\n  | { key_code: string | number }\n  | { consumer_key_code: string | number }\n  | { pointing_button: string | number }\n  | { any: 'key_code' | 'consumer_key_code' | 'pointing_button' }\n  | { simultaneous: Array</*...*/>, simultaneous_options?: {/*...*/} }\n) & {\n  modifiers?: { mandatory?: [/*...*/], optional?: [/*...*/] }\n}\n"})})]}),"\n",(0,a.jsxs)(n.p,{children:["There are some useful methods to help create ",(0,a.jsx)(n.code,{children:"FromEvent"})," easier:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#map-key",children:"map(key)"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#map-consumer-key",children:"mapConsumerKey()"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#map-pointing-button",children:"mapPointingButton()"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#map-simultaneous",children:"mapSimultaneous()"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"map-key",children:"map(key)"}),"\n",(0,a.jsxs)(n.p,{children:["The most common ",(0,a.jsx)(n.code,{children:"FromEvent"})," is with ",(0,a.jsx)(n.code,{children:"key_code"}),". ",(0,a.jsx)(n.code,{children:"map(key)"})," also supports alias\nfor some ",(0,a.jsx)(n.code,{children:"key_code"})," and modifiers, like ",(0,a.jsx)(n.code,{children:"\u2190"}),", ",(0,a.jsx)(n.code,{children:"\u2318"}),", etc."]}),"\n",(0,a.jsxs)(n.p,{children:["The list of supported ",(0,a.jsx)(n.code,{children:"key_code"})," can be found ",(0,a.jsx)(n.a,{href:"https://github.com/evan-liu/karabiner.ts/blob/main/src/karabiner/key-code.ts",children:"here"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"map('a') // map(key_code)\nmap(',', 'left_command') // map(key_alias, mandatoryModifiers)\nmap(1, '\u2318', '\u21EA') // map(number_key_value, modifier_alias, modifier_alias)\nmap('\u2190', { right: '\u2318\u2325' }) // map (key_alias, { left/right: modifier_alias})\nmap('left_command', { optional: '\u21E7' }) // map(key_code, { optional: modifiers })\nmap('keypad_asterisk', 'optionalAny') // map(key_code, 'optionalAny')\n"})}),"\n",(0,a.jsxs)(i,{children:[(0,a.jsx)("summary",{children:"Generated JSON"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'// map(\'a\')\n{ "key_code": "a" }\n// map(\',\', \'left_command\')\n{ "key_code": "comma", "modifiers": { "mandatory": [ "left_command"] } }\n// map(1, \'\u2318\', \'\u21EA\')\n{ "key_code": "1", "modifiers": { "mandatory": [ "command"], "optional": [ "caps_lock"] } }\n// map(\'\u2190\', { right: \'\u2318\u2325\' })\n{ "key_code": "left_arrow", "modifiers": { "mandatory": [ "right_command", "right_option"] } }\n// map(\'left_command\', { optional: \'\u21E7\' })\n{ "key_code": "left_command", "modifiers": { "optional": [ "shift"] } }\n// map(\'keypad_asterisk\', \'optionalAny\')\n{ "key_code": "keypad_asterisk", "modifiers": { "optional": [ "any"] } }\n'})})]}),"\n",(0,a.jsx)(n.h3,{id:"key-alias",children:"Key alias"}),"\n",(0,a.jsxs)(n.p,{children:["The list of supported key alias can be found ",(0,a.jsx)(n.a,{href:"https://github.com/evan-liu/karabiner.ts/blob/main/src/utils/key-alias.ts",children:"here"}),","]}),"\n",(0,a.jsxs)(i,{children:[(0,a.jsx)("summary",{children:"Key alias"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"\u2318  command\n\u2325  option\n\u2303  control\n\u21E7  shift\n\u21EA  caps_lock\n\n\u2191  up_arrow\n\u2193  down_arrow\n\u2190  left_arrow\n\u2192  right_arrow\n\u21DE  page_up\n\u21DF  page_down\n\u2196  home\n\u2198  end\n\n\u23CE  return_or_enter\n\u238B  escape\n\u232B  delete_or_backspace\n\u2326  delete_forward\n\u21E5  tab\n\u2423  spacebar\n-  hyphen\n=  equal_sign\n[  open_bracket\n]  close_bracket\n\\  backslash\n;  semicolon\n'  quote\n`  grave_accent_and_tilde\n,  comma\n.  period\n/  slash\n"})})]}),"\n",(0,a.jsx)(n.p,{children:"It is recommended to put the alias on a layer/simlayer to use them."}),"\n",(0,a.jsxs)(i,{children:[(0,a.jsx)("summary",{children:"Example of key alias on a layer"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"layer(['z', '/'], 'emoji-mode').manipulators([\n  //           1    2    3    4    5\n  withMapper(['\u2318', '\u2325', '\u2303', '\u21E7', '\u21EA'])((k, i) =>\n    map((i + 1) as NumberKeyValue).toPaste(k),\n  ),\n  //           Paste the symbols instead of triggering the key\n  withMapper(['\u2190', '\u2192', '\u2191', '\u2193', '\u2423', '\u23CE', '\u21E5', '\u238B', '\u232B', '\u2326', '\u21EA'])((k) =>\n    map(k).toPaste(k),\n  ),\n  map(',').toPaste('\u2039'), // left_{modifier}\n  map('.').toPaste('\u203A'), // right_{modifier}\n])\n"})})]}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"map('\u2039\u2318')"}),", ",(0,a.jsx)(n.code,{children:"\u2039\u2318"})," is ",(0,a.jsx)(n.code,{children:"left_command"}),", can also be ",(0,a.jsx)(n.code,{children:"<\u2318"}),", ",(0,a.jsx)(n.code,{children:"l\u2318"}),", ",(0,a.jsx)(n.code,{children:"left\u2318"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"map(1, '??')"}),", ",(0,a.jsx)(n.code,{children:"??"})," is ",(0,a.jsx)(n.code,{children:"optionalAny"}),", can also be",(0,a.jsx)(n.code,{children:"?any"}),", ",(0,a.jsx)(n.code,{children:"{ optional: 'any' }"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"map(1, '?\u203A\u2318\u2325')"}),", ",(0,a.jsx)(n.code,{children:"?\u203A\u2318\u2325"})," is ",(0,a.jsx)(n.code,{children:"{ optional: ['right_command', 'right_option'] }"})]}),"\n"]})}),"\n",(0,a.jsx)(n.h2,{id:"map-consumer-key",children:"mapConsumerKey()"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"mapConsumerKey()"})," is similar to ",(0,a.jsx)(n.code,{children:"map(key)"})," but with ",(0,a.jsx)(n.code,{children:"consumer_key_code"})," instead\nof ",(0,a.jsx)(n.code,{children:"key_code"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["The list of supported ",(0,a.jsx)(n.code,{children:"consumer_key_code"})," can be found ",(0,a.jsx)(n.a,{href:"https://github.com/evan-liu/karabiner.ts/blob/main/src/karabiner/consumer-key-code.ts",children:"here"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"mapConsumerKey('menu', '\u2318', 'any')\n"})}),"\n",(0,a.jsxs)(i,{children:[(0,a.jsx)("summary",{children:"Generated JSON"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "consumer_key_code": "menu",\n  "modifiers": { "mandatory": ["command"], "optional": ["any"] }\n}\n'})})]}),"\n",(0,a.jsx)(n.h2,{id:"map-pointing-button",children:"mapPointingButton()"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"mapPointingButton()"})," is similar to ",(0,a.jsx)(n.code,{children:"map(key)"})," but with ",(0,a.jsx)(n.code,{children:"pointing_button"})," instead\nof ",(0,a.jsx)(n.code,{children:"key_code"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["The list of supported ",(0,a.jsx)(n.code,{children:"pointing_button"})," can be found ",(0,a.jsx)(n.a,{href:"https://github.com/evan-liu/karabiner.ts/blob/main/src/karabiner/pointing-button.ts",children:"here"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"mapPointingButton('button1', '\u2318')\n"})}),"\n",(0,a.jsxs)(i,{children:[(0,a.jsx)("summary",{children:"Generated JSON"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "pointing_button": "button1",\n  "modifiers": { "mandatory": ["command"] }\n}\n'})})]}),"\n",(0,a.jsx)(n.h2,{id:"map-simultaneous",children:"mapSimultaneous()"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"mapSimultaneous()"})," creates ",(0,a.jsx)(n.a,{href:"https://karabiner-elements.pqrs.org/docs/json/complex-modifications-manipulator-definition/from/simultaneous/",children:(0,a.jsx)(n.code,{children:"from.simultaneous"})}),"\nwith (optional) options and threshold parameter."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"mapSimultaneous(\n  ['a', { pointing_button: 'button1' }], // keys\n  { key_down_order: 'strict' }, // options?\n  100, // threshold?, default 50\n)\n"})}),"\n",(0,a.jsxs)(i,{children:[(0,a.jsx)("summary",{children:"Generated JSON"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "type": "basic",\n  "from": {\n    "simultaneous": [ \n      {"key_code": "a"}, \n      {"pointing_button": "button1"} \n    ],\n    "simultaneous_options": {\n      "key_down_order": "strict"\n    }\n  },\n  "parameters": { \n    "basic.simultaneous_threshold_milliseconds": 100\n  }\n}\n'})})]}),"\n",(0,a.jsx)(n.h3,{id:"modifiers",children:"Modifiers"}),"\n",(0,a.jsxs)(n.p,{children:["To set ",(0,a.jsx)(n.code,{children:"from.modifiers"})," use ",(0,a.jsx)(n.code,{children:"mapSimultaneous().modifiers(/* ... */)"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"threshold",children:"Threshold"}),"\n",(0,a.jsxs)(n.p,{children:["The threshold parameter can also be set at ",(0,a.jsx)(n.code,{children:"writeToProfile()"})," for the profile."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"writeToProfile(\n  '--dry-run', // profile name \n  [], // rules\n  { 'basic.simultaneous_threshold_milliseconds': 100 }, // parameters \n)\n"})})]})}function m(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},50065:function(e,n,i){i.d(n,{Z:function(){return t},a:function(){return r}});var o=i(67294);let a={},s=o.createContext(a);function r(e){let n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);