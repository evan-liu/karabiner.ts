(self.webpackChunkkarabiner_ts_docs=self.webpackChunkkarabiner_ts_docs||[]).push([["6953"],{68347:function(e,t,r){var o={"./simpleWorker.js":"18352","./simpleWorker":"18352"};function n(e){return Promise.resolve().then(function(){if(!r.o(o,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r(o[e])})}n.keys=()=>Object.keys(o),n.id="68347",e.exports=n},37738:function(e,t,r){var o={"./treeViewsDndService.js":["58345"],"./textResourceConfiguration":["71765"],"./unicodeTextModelHighlighter.js":["31446"],"./findSectionHeaders":["72846"],"./languageFeaturesService":["60662"],"./model.js":["73733"],"./editorSimpleWorker":["87267"],"./editorBaseApi":["20927"],"./editorWorker":["85215"],"./editorWorkerHost.js":["98008"],"./semanticTokensDto":["14704"],"./semanticTokensDto.js":["14704"],"./semanticTokensStyling.js":["73343"],"./textResourceConfiguration.js":["71765"],"./editorWorker.js":["85215"],"./languagesAssociations":["73536"],"./markerDecorationsService":["86036"],"./languageFeatureDebounce":["88191"],"./model":["73733"],"./resolverService":["88216"],"./languagesRegistry":["4765"],"./markerDecorations.js":["36357"],"./semanticTokensProviderStyling":["33789"],"./semanticTokensProviderStyling.js":["33789"],"./languageService.js":["81032"],"./semanticTokensStylingService":["84146"],"./getIconClasses.js":["22016"],"./languageFeatures.js":["71922"],"./modelService.js":["51200"],"./languagesRegistry.js":["4765"],"./languageFeatures":["71922"],"./markerDecorationsService.js":["86036"],"./textModelSync/textModelSync.impl.js":["49290"],"./languageService":["81032"],"./editorSimpleWorker.js":["87267"],"./markerDecorations":["36357"],"./textModelSync/textModelSync.protocol":["23145","5671"],"./findSectionHeaders.js":["72846"],"./treeSitterParserService":["28922"],"./treeViewsDnd":["80642"],"./languagesAssociations.js":["73536"],"./treeViewsDnd.js":["80642"],"./unicodeTextModelHighlighter":["31446"],"./editorWorkerHost":["98008"],"./textModelSync/textModelSync.impl":["49290"],"./languageFeatureDebounce.js":["88191"],"./editorBaseApi.js":["20927"],"./textModelSync/textModelSync.protocol.js":["23145","5671"],"./languageFeaturesService.js":["60662"],"./getIconClasses":["22016"],"./treeSitterParserService.js":["28922"],"./semanticTokensStylingService.js":["84146"],"./semanticTokensStyling":["73343"],"./treeViewsDndService":["58345"],"./modelService":["51200"],"./resolverService.js":["88216"]};function n(e){if(!r.o(o,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=o[e],n=t[0];return Promise.all(t.slice(1).map(r.e)).then(function(){return r(n)})}n.keys=()=>Object.keys(o),n.id="37738",e.exports=n},83596:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id="83596",e.exports=t},92182:function(e,t,r){"use strict";r.d(t,{PP:()=>k});var o=r("85893"),n=r("79207"),i=r("19028"),s=r("67294");let a=null;async function l(){if(a)return a;let e=fetch("/examples.json").then(e=>e.json()).finally(()=>a=null);return a=e,e}function u(){let[e,t]=(0,s.useState)(()=>null),[r]=(0,s.useState)(()=>new URLSearchParams(window.location.search).get("example")),[o,n]=(0,s.useState)(()=>void 0);return(0,s.useEffect)(()=>{let e=!1;return l().catch(()=>null).then(o=>{!e&&o&&(t(o),r&&r in o&&n(o[r]))}),()=>void(e=!0)},[]),{initExampleKey:r,initExampleCode:o,examples:e}}var c=r("12672");let d=`import {
  // rule and layers
  rule, layer, simlayer, hyperLayer, modifierLayer, duoLayer,
  // from / map()
  map, mapConsumerKey, mapPointingButton, mapSimultaneous, mapDoubleTap, mouseMotionToScroll,
  // to
  toKey, toConsumerKey, toPointingButton, toHyper, toSuperHyper, toMeh, to$, toApp, toPaste, toTypeSequence, toNone, toNotificationMessage, toRemoveNotificationMessage, toInputSource, toSetVar, toUnsetVar, toMouseKey, toMouseCursorPosition, toStickyModifier, toCgEventDoubleClick, toSleepSystem,
  // conditions
  ifApp, ifDevice, ifVar, ifDeviceExists, ifInputSource, ifKeyboardType, ifEventChanged,
  // utils
  withCondition, withMapper, withModifier, modifierKeyAliases, multiModifierAliases, LetterKeyCode, KeyAlias, ModifierKeyAlias, MultiModifierAlias
} from 'karabiner.ts'`,p=`\
// \u{2193} \u{2193} \u{2193} Add support code if needed.  \u{2191} \u{2191} \u{2191} Do not delete \`import ...\` \u{2191}

// \u{2191} \u{2191} \u{2191} Add support code if needed.  \u{2193} \u{2193} \u{2193} Do not delete the \`rules\` variable \u{2193}
let rules = [
  // \u{2193} \u{2193} \u{2193} Add rules and/or layers.   \u{2191} \u{2191} \u{2191} Do not delete the \`rules\` variable \u{2191}

  rule('Playground').manipulators([
    map('\u{21EA}').toHyper().toIfAlone('\u{238B}'),
    { escape: toKey('caps_lock') },
  ]),
  
  // \u{2191} \u{2191} \u{2191} Add rules and/or layers.   \u{2193} \u{2193} \u{2193} Do not delete \`]\` below \u{2193}
]
`;self.MonacoEnvironment={getWorkerUrl:(e,t)=>"json"==t?"/workers/json.worker.js":"typescript"==t||"javascript"==t?"/workers/ts.worker.js":"/workers/editor.worker.js"};let f=!1;class m{job=null;worker=null;constructor(){this.createWorker()}get output(){return this.job?.output||""}run(e){let t;if(this.job){if(e==this.job.input)return this.job.promise;this.job.resolve?.("")}if(!e)return this.job={input:e,output:"",promise:Promise.resolve("")},this.job.promise;let r=new Promise(e=>t=e);return this.job={input:e,promise:r,resolve:t},this.worker?.postMessage(e),this.job.promise}dispose(){this.worker?.terminate(),this.worker=null}createWorker(){this.worker?.terminate(),this.worker=new Worker("/workers/karabiner.worker.js"),this.worker.onmessage=e=>{let{input:t,output:r}=e.data;t==this.job?.input&&(this.job.output=r,this.job.resolve?.(r))}}}let g=(0,s.createContext)(null);function h(e){let t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,s.useEffect)(()=>{f||fetch("https://unpkg.com/karabiner.ts@latest/dist/index.d.ts").then(e=>e.text()).then(e=>{f||(c.Mj.typescript.typescriptDefaults.addExtraLib(`declare module 'karabiner.ts' { ${e} }`,"file:///node_modules/karabiner.ts/index.d.ts"),f=!0)}).catch(e=>{})},[]),function(){let{colorMode:e}=(0,n.I)();(0,s.useEffect)(()=>{c.j6.setTheme("dark"==e?"vs-dark":"light")},[e])}(),e&&!/import[\s\S]*'karabiner\.ts'/.test(e)&&(e=`${d}

${e}`);let[t]=(0,s.useState)(()=>{let t=new m,r={input:null,output:null};t.run(e).then(e=>r.output?.setValue(e));let o={automaticLayout:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,tabSize:2};return{runner:t,editors:r,inputRef:n=>{n&&!r.input&&(r.input=c.j6.create(n,{...o,language:"typescript",value:e}),r.input.onDidChangeModelContent(()=>{t.run(r.input?.getValue()||"").then(e=>r.output?.setValue(e))}),r.input.trigger("","editor.fold",{}))},outputRef:e=>{e&&!r.output&&(r.output=c.j6.create(e,{...o,readOnly:!0,language:"json",value:t.output}))}}});return(0,s.useEffect)(()=>()=>{t.runner.dispose(),t.editors.input?.dispose(),t.editors.output?.dispose(),t.editors={input:null,output:null}},[]),t}(e.code);return(0,o.jsx)(g.Provider,{value:t,children:e.children})}function j(){let e=(0,s.useContext)(g);if(!e)throw Error("OnlineEditorContext not found");return e}function y(e){return(0,o.jsx)("div",{...e,ref:j().inputRef})}function v(e){return(0,o.jsx)("div",{...e,ref:j().outputRef})}function k(){let{initExampleKey:e,initExampleCode:t}=u(),r=function(){let e=new URL(location.href),t=e.searchParams.get("c");void 0!=t&&(e.searchParams.delete("c"),history.replaceState(null,"",e.toString()));try{if(!t)return null;let e=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");for(;t.length%4;)t+="=";let r=atob(t);return Uint8Array.from(r,e=>e.charCodeAt(0))}(t);return i.ZP.inflate(e,{to:"string"})}catch(e){return console.warn("Decompression failed",e),null}}()||(e?t:p);return(0,o.jsx)(h,{code:r,children:(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"auto 1fr",flex:1},children:[(0,o.jsx)(S,{}),(0,o.jsx)(x,{}),(0,o.jsx)(y,{style:{maxWidth:"50vw"}}),(0,o.jsx)(v,{style:{maxWidth:"50vw"}})]})})}function S(){let e=j(),{initExampleCode:t,initExampleKey:r,examples:n}=u(),[i,a]=(0,s.useState)(r||""),l=t=>{e.editors.input?.setValue(`${d}

${t}`),e.editors.input?.trigger("","editor.fold",{})};return(0,s.useEffect)(()=>void(t&&l(t)),[t]),(0,o.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"space-between",padding:"1rem"},children:[(0,o.jsxs)("select",{value:i,onChange:e=>{var t;let r;return a(t=e.target.value),l(t&&n?.[t]?n[t]:p),r=new URL(window.location.href),void(t?r.searchParams.set("example",t):r.searchParams.delete("example"),window.history.replaceState({},"",r))},style:{paddingTop:"0.25rem",paddingBottom:"0.25rem"},children:[(0,o.jsx)("option",{value:"",children:"Playground"}),n&&Object.keys(n).map(e=>(0,o.jsxs)("option",{value:e,children:["Example: ",e]},e))]}),(0,o.jsx)(w,{})]})}function x(){let e=j(),[t,r]=(0,s.useState)(!1);return(0,o.jsxs)("div",{style:{display:"flex",gap:"1rem",padding:"1rem"},children:[(0,o.jsx)("button",{onClick:function(){let t=e.editors.output?.getValue();t&&(navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),1e3))},style:{width:"6rem"},title:"Copy JSON for Karabiner-Elements import",children:t?"Copied":"Copy JSON"}),(0,o.jsx)("a",{href:"https://karabiner-elements.pqrs.org/docs/manual/configuration/add-your-own-complex-modifications/",target:"_blank",children:"? Import to Karabiner-Elements"})]})}function w(){let e=j(),[t,r]=(0,s.useState)(!1);return(0,o.jsx)("button",{onClick:function(){let t=function(e){if(e=e?.replace(/import[\s\S]*from\s+.karabiner.ts./m,""),e=e?.replaceAll(/^\s*\/\/\s*[↑↓].*$\n*/gm,"").trim(),e?.length)try{var t;return t=i.ZP.deflate(e),btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(e){return console.warn("Compression failed",e),null}}(e.editors.input?.getValue());if(t){let e=new URL(location.origin+location.pathname);e.searchParams.set("c",t),navigator.clipboard.writeText(e.toString()),r(!0),setTimeout(()=>r(!1),1e3)}},style:{width:"6rem"},title:"Copy URL to share or save this code",children:t?"Copied!":"Copy URL"})}},81197:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var o=r(85893),n=r(44634),i=r(13687);function s(){return(0,o.jsx)(i.Z,{title:"Online Editor",children:(0,o.jsx)(n.Z,{children:()=>{let e=r(92182).PP;return(0,o.jsx)(e,{})}})})}}}]);